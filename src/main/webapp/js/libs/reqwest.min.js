(function(f){function o(a,b,c){return function(){a&&a.readyState==4&&(p.test(a.status)?b(a):c(a))}}function q(a,b){var c=b.headers||{};c.Accept=c.Accept||"text/javascript, text/html, application/xml, text/xml, */*";c["X-Requested-With"]=c["X-Requested-With"]||"XMLHttpRequest";b.data&&(c["Content-type"]=c["Content-type"]||"application/x-www-form-urlencoded");for(var d in c)c.hasOwnProperty(d)&&a.setRequestHeader(d,c[d],!1)}function r(a){var b=a.jsonpCallback||"callback";return a.url.slice(-(b.length+
2))==b+"=?"?(b="reqwest_"+s++,a.url=a.url.substr(0,a.url.length-1)+b,b):a.url.match(RegExp(b+"=([\\w]+)"))[1]}function t(a){i=a}function u(a,b,c){if(a.type=="jsonp"){var d=k.createElement("script");f[r(a)]=t;d.type="text/javascript";d.src=a.url;d.async=!0;var e=function(){a.success&&a.success(i);i=void 0;l.removeChild(d)};d.onload=e;d.onreadystatechange=function(){/^loaded|complete$/.test(d.readyState)&&e()};l.appendChild(d)}else{var g=w();g.open(a.method||"GET",typeof a=="string"?a:a.url,!0);q(g,
a);g.onreadystatechange=o(g,b,c);a.before&&a.before(g);g.send(a.data||null);return g}}function m(a,b){this.o=a;this.fn=b;n.apply(this,arguments)}function x(a){if(/\.json$/.test(a))return"json";if(/\.jsonp$/.test(a))return"jsonp";if(/\.js$/.test(a))return"js";if(/\.html?$/.test(a))return"html";if(/\.xml$/.test(a))return"xml";return"js"}function n(a,b){function c(b){a.error&&a.error(b);a.complete&&a.complete(b)}this.url=typeof a=="string"?a:a.url;this.timeout=null;var d=a.type||x(this.url),e=this,b=
b||function(){};if(a.timeout)this.timeout=setTimeout(function(){e.abort();c()},a.timeout);this.request=u(a,function(c){a.timeout&&clearTimeout(e.timeout)&&(e.timeout=null);var f=c.responseText;switch(d){case "json":c=eval("("+f+")");break;case "js":c=eval(f);break;case "html":c=f}b(c);a.success&&a.success(c);a.complete&&a.complete(c)},c)}function h(a,b){return new m(a,b)}function j(a){var b=a.name;if(a.disabled||!b)return"";b=encodeURIComponent(b);switch(a.tagName.toLowerCase()){case "input":switch(a.type){case "reset":case "button":case "image":case "file":return"";
case "checkbox":case "radio":return a.checked?b+"="+(a.value?encodeURIComponent(a.value):!0)+"&":"";default:return b+"="+(a.value?encodeURIComponent(a.value):"")+"&"}case "textarea":return b+"="+encodeURIComponent(a.value)+"&";case "select":return b+"="+encodeURIComponent(a.options[a.selectedIndex].value)+"&"}return""}var p=/^20\d$/,k=document,l=k.getElementsByTagName("head")[0],w="XMLHttpRequest"in f?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},
s=0,i;m.prototype={abort:function(){this.request.abort()},retry:function(){n.call(this,this.o,this.fn)}};h.serialize=function(a){var b=a.getElementsByTagName("input"),c=a.getElementsByTagName("select"),a=a.getElementsByTagName("textarea");return(v(b).chain().toArray().map(j).value().join("")+v(c).chain().toArray().map(j).value().join("")+v(a).chain().toArray().map(j).value().join("")).replace(/&$/,"")};h.serializeArray=function(a){for(var a=this.serialize(a).split("&"),b=0,c=a.length,d=[],e;b<c;b++)a[b]&&
(e=a[b].split("="))&&d.push({name:e[0],value:e[1]});return d};var y=f.reqwest;h.noConflict=function(){f.reqwest=y;return this};f.reqwest=h})(this);